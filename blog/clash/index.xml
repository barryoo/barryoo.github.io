<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Clash on Barry Blog</title><link>https://barryoo.github.io/blog/clash/</link><description>Recent content in Clash on Barry Blog</description><generator>Hugo -- gohugo.io</generator><language>en-US</language><copyright>Copyright © 2023, Barry Chen.</copyright><lastBuildDate>Sat, 06 May 2023 00:00:00 +0000</lastBuildDate><atom:link href="https://barryoo.github.io/blog/clash/index.xml" rel="self" type="application/rss+xml"/><item><title>Clash分流规则实践</title><link>https://barryoo.github.io/clash%E5%88%86%E6%B5%81%E8%A7%84%E5%88%99%E5%AE%9E%E8%B7%B5/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://barryoo.github.io/clash%E5%88%86%E6%B5%81%E8%A7%84%E5%88%99%E5%AE%9E%E8%B7%B5/</guid><description>参考 https://github.com/Kuingsmile/clash-core/blob/main/docs/premium/rule-providers.md#rule-providers
目标 实现clash配置分流规则, 以及快速修改规则.
为什么要使用clash来控制分流规则? 我们确实可以通过浏览器扩展SwitchyOmega, 在浏览器中修改当前网站的代理, 但只能实现一个代理, 无法实现不同的网站走不同的代理. 通过clash分流,可以实现以下效果:
youtube.com 走香港代理,延迟低. openai.com 走英国代理,防止被屏蔽. 如何快速修改规则 在SwitchyOmega中, 可以快速修改浏览器的代理规则, 但是没有一种浏览器扩展可以与clash通信,来修改规则. 这里提供shell命令的方式来修改, 比修改config.yaml文件要方便些. 期待有人可以开发浏览器扩展与clash通信. shell命令可以与alfred等快速启动软件结合, 进而实现更方便的方式. 也可以在alfred中创建workflow来修改规则.
# 添加openai.com走ai代理 proxy -y &amp;#34;DOMAIN,openai.com,ai&amp;#34; # 删除google.com走proxies代理 proxy -n &amp;#34;DOMAIN,google.com,proxies&amp;#34; proxy命令的代码如下,使用方法:
复制以下代码, 在你的环境变量目录下新建文件名为proxy,并粘贴一下代码,保存. (环境变量目录如: /usr/local/bin) terminal中执行chmod +x proxy 重启terminal #!/bin/bash CONFIG_FILE=&amp;#34;$HOME/.config/clash/config.yaml&amp;#34; PORT=9090; while getopts &amp;#34;y:n:&amp;#34; opt; do case ${opt} in y ) # Add a new rule if [ -z &amp;#34;$2&amp;#34; ]; then echo &amp;#34;Please provide a rule with the -y option.</description></item></channel></rss>